<!DOCTYPE html>
<html lang="ko">
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge">
	<meta charset="UTF-8">
	<title>부와아아앙ㅇ</title>
	<link rel="stylesheet" href="../../css/reset.css">
	<script src="../js/jquery-3.3.1.min.js"></script>
	<style>
		#panel{width:600px;height:300px;
			border:1px solid #000;
			position:relative;}
		#bar{position: absolute;
			width: 500px;height: 20px;
			background-color: #f00;
			left:50px;top: 190px;}
		#img{position: absolute;left: 50px;top: 120px;}
		.view{transform:rotateY(180deg);}
	</style>
	<script>
		$(document).ready(function(){
			var objBar = $("#bar");
			var objCar = $("#img");
			var nStartX = objBar.position().left;
			var nEndX = nStartX + objBar.width() - objCar.width();
			var nCurrent = nStartX;
			var nStep = 2;
			var nTimerId = 0;
			function move(){
			nCurrent += nStep; // nCurrent = nCurrent + nStep;
				if(nCurrent > nEndX){
					nStep = -2;
					objCar.addClass("view");
				}
				if(nCurrent <nStartX){
					nStep = 2;
					objCar.removeClass();
				}
				$(".txt").html(nCurrent);
			objCar.css("left",nCurrent);
			}

			// setInterval(move,30);
			$("#btn_start").click(function(){
				// if(nTimerId == 0){
				// 	nTimerId = setInterval(move,30);
				// }
				move();
			});
			$("#btn_stop").click(function(){
				if(nTimerId != 0){
					clearInterval(nTimerId);
					nTimerId = 0;
				}
			});
		});
	</script>
</head>
<body>
	<div id="panel">
		<div id="bar"></div>
		<div id="img" class="view"><img src="../../images/car.png" alt=""></div>
	</div>
	<button id="btn_start">Start</button>
	<button id="btn_stop">Stop</button>
	<div class="txt"></div>
</body>
</html>